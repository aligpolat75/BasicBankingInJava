
package javaapplication2;

import java.util.*;

public class JavaApplication2 {

    
    
    
    static ArrayList<konto> kontoListe = new ArrayList<>();
        static int neu_KontoNummer = 100;
    
    
    public static void main(String[] args) {

        Scanner scan = new Scanner(System.in);
    
        
        benutzer_erstellen("Ali Polat", 4000);
        benutzer_erstellen("Hansel Gratel", 5000);
        
        
        String Antwort="y";
        while (Antwort.equals("y")){      //garip bir döngüye sokuyor ama anlayamadım!
                           
        System.out.println("Haben Sie bereits ein Konto ? (y) oder (n) ");
        Antwort=scan.nextLine();        //yeni hesap açıldığında bu satırı atlıyor.Kullanıcıya cevap verme zamanı tanımıyor!!
                                        //Antwort değişkeni "n" imiş gibi davranıyor program ama zaten en son "y" olarak değiştirildi!
            if ("y".equals(Antwort)){
            
            konto benutzer;
            String go = "y";
        
                while (go.equals("y")) {
                System.out.println("Willkommen in ArdahanBank");        //exitten tekrar buraya gelindiğinde iki satır da iki kere 
                System.out.print("Geben Sie Ihre Kundennummer ein: ");  //yazılıyor!!!!!
            
                String KontoNummer = scan.nextLine();
            
                    for (int i = 0; i < kontoListe.size(); i++) {
                        if (KontoNummer.equals(kontoListe.get(i).KontoNummer)) {
                        benutzer = kontoListe.get(i);
                        System.out.println("Willkommen Ihre Konto " + benutzer.KundenName);

                        int Wahl = 0;
                            while (Wahl != 4) {
                
                            System.out.println("Bitte wählen Sie die Aktion, die Sie ausführen möchten");
                            System.out.println("1.Bilanzanzeige");
                            System.out.println("2.Einzahlung");
                            System.out.println("3.Auszahlung");
                            System.out.println("4.Exit");
            
                            Wahl = scan.nextInt();
            
                                switch (Wahl) {
            
                                    case 1:
                                    System.out.println("KontoBalance: " + benutzer.Balance);
                                    break;
            
                                    case 2: {
                                    System.out.println("Wie viel Geld möchten sie einzahlen?");
                                    benutzer.Transaktionsvolumen = scan.nextInt();
                                    benutzer.Einzahlung();
                                    System.out.println("Ihre neue Balance:" + benutzer.Balance);
                                    break;
                            }
                                    case 3: {
                                    System.out.println("Wie viel Geld möchten sie auszahlen?");
                                    benutzer.Transaktionsvolumen = scan.nextInt();
                                    benutzer.Auszahlung();
                                    System.out.println("Ihre neue Balance:" + benutzer.Balance);
                                    break;
                            }
                                    case 4: 
                                    System.out.println("Tschüss " + benutzer.KundenName);
                                    Scanner neue_session = new Scanner(System.in);
                                    System.out.print("Möchten Sie weitermachen? (y / n) ");
                                    go = neue_session.nextLine();
                                    break;
                        }
                    }
                }
            }
        }
        
        
    }
                        else {
                            System.out.println("Wir werden Ihnen ein paar Fragen stellen, bevor Sie sich beim System registieren können.");
                            System.out.println("Wie heißen Sie ?");
                            String neu_Name=scan.nextLine();
                            System.out.println("Wie viel möchten Sie einzahlen, wenn Ihr Konto eröffnet wird?");
                            int neu_Balance=scan.nextInt();
                            benutzer_erstellen(neu_Name,neu_Balance);
                            Antwort="y";
        }
            
        }
    }
        static void benutzer_erstellen(String KundenName, int Balance) {
            konto neu_benutzer = new konto();
            neu_benutzer.KundenName = KundenName;
            neu_benutzer.Balance = Balance;
            neu_benutzer.KontoNummer = "k" + String.format("%d", neu_KontoNummer);
            neu_KontoNummer += 1;
            kontoListe.add(neu_benutzer);
            System.out.println("Ein Konto wurde erstellt.Kontonummer ist " + neu_benutzer.KontoNummer);
    }

}
        
    
    

